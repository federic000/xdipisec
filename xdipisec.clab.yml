#topology documentation: http://containerlab.dev/lab-examples/srl-ceos/
name: icsdp01

topology:
  nodes:
    CL1:
      kind: linux
      image: debian:swan2
      binds: 
        - ~/xdpworks/:/home  
      exec:
        - bash /home/startup_cl.sh  
    TEIP1:
      kind: linux
      image: debian:swan2
      binds:
        - ~/xdpworks/:/home  
      exec:
        - bash /home/startup_srv1.sh  
    TEIP2:
      kind: linux
      image: debian:swan2
      binds:
        - ~/xdpworks/:/home        
      exec:
        - bash /home/startup_srv2.sh
    TEIP3:
      kind: linux
      image: debian:swan2
      binds:
        - ~/xdpworks/:/home        
      exec:
        - bash /home/startup_srv3.sh
    TEIP4:
      kind: linux
      image: debian:swan2
      binds:
        - ~/xdpworks/:/home        
      exec:
        - bash /home/startup_srv4.sh
    LB1:
      kind: linux
      image: debian:swan2
      binds:
       - ~/xdpworks/:/home
       - /lib/modules/:/lib/modules    
       - /usr/include/:/usr/include
       - /usr/src/:/usr/src
       - /sys/kernel/:/sys/kernel
 
  links:
    - endpoints: ["CL1:eth1", "LB1:eth1"]
    - endpoints: ["TEIP1:eth1", "LB1:eth2"]
    - endpoints: ["TEIP2:eth1", "LB1:eth3"]
    - endpoints: ["TEIP3:eth1", "LB1:eth4"]
    - endpoints: ["TEIP4:eth1", "LB1:eth5"]
    ##



